<h1 class="mb-4">Messages</h1>

<table class="table table-dark table-striped table-bordered">
  <thead class="table-light">
    <tr>
      <th>ID</th>
      <th>Chat</th>
      <th>Author</th>
      <th>Body</th>
      <th>Created At</th>
      <th>Updated At</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @messages.each do |message| %>
      <tr>
        <td><%= message.id %></td>
        <td>
          Chat between <%= message.chat.sender.email %> and <%= message.chat.receiver.email %>
        </td>
        <td><%= message.user.email %></td>
        <td><%= message.body %></td>
        <td><%= message.created_at.strftime("%Y-%m-%d %H:%M") %></td>
        <td><%= message.updated_at.strftime("%Y-%m-%d %H:%M") %></td>
        <td>
          <%= link_to 'Show', message_path(message), class: "btn btn-sm btn-info mb-1" %><br>
          <%= link_to 'Edit', edit_message_path(message), class: "btn btn-sm btn-warning" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= link_to 'New Message', new_message_path, class: 'btn btn-primary mt-3' %>
